!function(a,t,e){t.wp=t.wp||{},t.wp.gdbbx=t.wp.gdbbx||{},t.wp.gdbbx.admin={init:function(){a("#gdbbx-form-settings").areYouSure(),a(".d4p-setting-expandable_list a.button-primary").click(function(t){t.preventDefault();var e=a(this).closest(".d4p-setting-expandable_list"),t=a(".d4p-next-id",e),n=t.val(),e=a(".list-element-0",e).clone();a("input",e).each(function(){var t=a(this).attr("id").replace("_0_","_"+n+"_"),e=a(this).attr("name").replace("[0]","["+n+"]");a(this).attr("id",t).attr("name",e)}),e.attr("class","list-element-"+n).fadeIn(),a(this).before(e),n++,t.val(n)})},more:function(){a(e).on("change",".gdbbx-content-editor-topic-selection input",function(){var t=a(this).val();a(".gdbbx-content-editor-topic").removeClass("gdbbx-select-type-show"),a(".gdbbx-content-editor-topic-"+t).addClass("gdbbx-select-type-show")}),a(e).on("change",".gdbbx-content-editor-reply-selection input",function(){var t=a(this).val();a(".gdbbx-content-editor-reply").removeClass("gdbbx-select-type-show"),a(".gdbbx-content-editor-reply-"+t).addClass("gdbbx-select-type-show")}),a(e).on("click",".gdbbx-feature-more-control .d4p-bulk-ctrl",function(){a(this).hasClass("button-secondary")?(a(this).removeClass("button-secondary").addClass("button-primary"),a(".gdbbx-inner-ctrl-options").hide(),a(".gdbbx-feature-submit").show()):(a(this).removeClass("button-primary").addClass("button-secondary"),a(".gdbbx-inner-ctrl-options").show(),a(".gdbbx-feature-submit").hide())})},bulk:function(){a(e).on("click",".gdbbx-features-bulk-control .d4p-bulk-ctrl",function(){a(this).hasClass("button-secondary")?(a(this).removeClass("button-secondary").addClass("button-primary"),a("input.feature-status, .gdbbx-inner-ctrl-options").hide()):(a(this).removeClass("button-primary").addClass("button-secondary"),a("input.feature-status, .gdbbx-inner-ctrl-options").show())}),a(e).on("click",".gdbbx-inner-ctrl-options a",function(t){t.preventDefault();t=a(this).attr("href").substr(1);"checkall"===t?a(".d4p-options-panel .feature-status").prop("checked",!0):"uncheckall"===t&&a(".d4p-options-panel .feature-status").prop("checked",!1)})},bbcodes:function(){a(e).on("change",".gdbbx-grid-bbcodes thead th input, .gdbbx-grid-bbcodes tfoot th input",function(){var t=a(this).data("column"),e=a(this).is(":checked");a(".gdbbx-grid-bbcodes tbody td.column-"+t+" input").prop("checked",e)})}},wp.gdbbx.admin.init(),a(e).ready(function(){"features"===gdbbx_admin_data.page&&(""===gdbbx_admin_data.panel||"index"===gdbbx_admin_data.panel?wp.gdbbx.admin.bulk():wp.gdbbx.admin.more()),"bbcodes"===gdbbx_admin_data.page&&wp.gdbbx.admin.bbcodes()})}(jQuery,window,document);